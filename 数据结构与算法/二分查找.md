# 数组

## 二分查找

**二分查找的关键之处在于循环中的不变量**

```cpp
while(_condition_) {
	....
}
```

在上述while中的条件，就是循环不变量。在二分查找中也就是****每次搜索时****，对于**区间的定义**

二分查找中常见的循环不变量/搜索区间定义有：

- left <= right
- left < right

**它们有何种含义？**

---

### left <= right

在第一种定义下，搜索区间是一个左闭右闭区间——[ left , right ]

左闭右闭的一大特性是！区间的左右边界是**可以重合**的

那么对一个nums数组进行搜索，**区间的初始化**也应该**遵循搜索区间/循环不变量的定义**

```cpp
int left = 0;
int right = nums.size() - 1;
while(left<=right) {
	...
}
```

这是很直观的，因为元素的索引是从0到nums.size()-1的，也就是说，循环不变量/搜索区间的定义，意味着假设我们要找的目标值target在[ left , right ] 中

### **当跳出循环时，或者说不符合循环不变量时，我们获得什么信息呢？**

这个在介绍完下一种搜索区间的定义再来统一阐述

### left < right

在第二种定义下，搜索区间是一个左闭右开区间——[ left , right )

左闭右开的一大特性是！区间的左右边界是**不可以重合**的

那么对一个nums数组进行搜索，**区间的初始化**也应该**遵循搜索区间/循环不变量的定义**

```cpp
int left = 0;
int right = nums.size();
while(left<right) {
	...
}
```

这是很直观的，因为元素的索引是从0到nums.size()-1的，也就是说，循环不变量/搜索区间的定义，应该假设我们要找的目标值target在[ left , right ) 中，因此把right定义为 nums.size() (nums.size()-1 + 1 ) 是一个很合理的情况

### **当跳出循环时，或者说不符合循环不变量时，我们获得什么信息呢？**

当跳出循环，即说明此时不符合循环不变量的定义了，那么在最后一次迭代中，left、right仍旧是满足条件的

因此我们需要根据不变量的定义判断出是**left穿过right？还是right穿过left，亦或是left右移与right重叠？还是right左移与left重叠？**（分别对应第一、第二种循环不变量的定义）

上述结论，可能在当前的题目中较难理解，我们看下面几题

[35.搜索插入位置](https://www.notion.so/35-bbed8c30bc20461588bb6562519eafcc)

[34. 在排序数组中查找元素的第一个和最后一个位置](https://www.notion.so/34-73788e972f9a4ccdbf1327ebb5ed8a3f)